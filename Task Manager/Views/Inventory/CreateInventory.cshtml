@{
    ViewBag.Title = "CreateInventory";
    if (ViewData["id"].ToString() == "1")
    {
        Layout = "~/Views/Shared/_Home.cshtml";
    }
    else if (ViewData["id"].ToString() == "2")
    {
        Layout = "~/Views/Shared/Admin.cshtml";
    }
    else if (ViewData["id"].ToString() == "3")
    {
        Layout = "~/Views/Shared/Normal.cshtml";
    }
    else
    {
        Layout = "~/Views/Shared/CSR.cshtml";
    }
}
<div id="wrapper">
    <!-- Navigation -->
    <div id="page-wrapper">
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header" style="text-align:center">Create Inventory </h1>
            </div>
            <!-- /.col-lg-12 -->
        </div>
        <!-- /.row -->
        <div class="row">
            <div class="col-lg-12">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        Create Inventory
                    </div>
                    <div class="panel-body">
                        <div class="row">
                            <div class=" col-lg-offset-3  col-lg-6">
                                <div class="col-lg-12 spacing">
                                    <div class="col-lg-6 ">
                                        <label>Name</label>

                                    </div>
                                    <div class="col-lg-6 ">
                                        <input class="form-control" type="text" id="productname">
                                    </div>
                                </div>
                                <div class="col-lg-12 spacing">
                                    <div class="col-lg-6 ">
                                        <label>Type</label>
                                    </div>
                                    <div class="col-lg-6 ">
                                        <label class="radio-inline"><input type="radio" name="optradio" value="0" id="radio">Local</label>
                                        <label class="radio-inline"><input type="radio" name="optradio" value="1" id="radio1">Imported</label>
                                    </div>
                                </div>
                                <div class="col-lg-12 spacing">
                                    <div class="col-lg-6 ">
                                        <label>Catogery</label>
                                    </div>
                                    <div class="col-lg-6 ">
                                        <select id="ProductCatogeryDropdown" class="form-control"></select>
                                    </div>
                                </div>
                                <div class="col-lg-12 spacing">
                                    <div class="col-lg-6 ">
                                        <label>Brand</label>

                                    </div>
                                    <div class="col-lg-6 ">
                                        <input class="form-control" type="text" id="brand">
                                    </div>
                                </div>
                                
                                <div class="col-lg-12 spacing">
                                    <div class="col-lg-6">
                                        <label>Model</label>
                                    </div>
                                    <div class="col-lg-6">
                                        <input class="form-control" type="text" id="product_model">
                                    </div>
                                </div>
                                <div class="col-lg-12 spacing">
                                    <div class="col-lg-6">
                                        <label>Description</label>
                                    </div>
                                    <div class="col-lg-6">
                                        <textarea type="text" id="Description" cols="20" rows="3" class="form-control" placeholder="Description Of Project"></textarea>
                                    </div>
                                </div>
                                <div class="col-lg-12 spacing">
                                    <div class="col-lg-6">
                                        <label>Image</label>
                                    </div>
                                  
                                    <div class="col-lg-6">
                                        <label class="custom-file-upload">
                                            <input type="file" id="image" />
                                            <span>Upload Image</span>
                                        </label>                                        
                                    </div>
                                </div>
                                <div class="col-lg-12 spacing">
                                    <div class="col-lg-6">
                                        <label>Quantity</label>
                                    </div>
                                    <div class="col-lg-6">
                                        <input class="form-control" type="number" id="quantity">
                                    </div>
                                </div>
                                <div class="col-lg-12 spacing">
                                    <div class="col-lg-6">
                                        <label>Barcode</label>
                                    </div>
                                    <div class="col-lg-6">
                                        <input class="form-control" type="text" id="barcode">
                                    </div>
                                </div>
                                <div class="col-lg-12 spacing">
                                    <div class="col-lg-6">
                                        <label>Vendor Name</label>
                                    </div>
                                    <div class="col-lg-6">
                                        <input class="form-control" type="text" id="vendor">
                                    </div>
                                </div>
                                <div class="col-lg-offset-6 col-lg-6 spacing">
                                    <button class="btn btn-success" value="Add" onclick="Add()"> Create </button>
                                    <button type="reset" class="btn btn-info" onclick="location.reload();">Reset</button>
                                </div>
                            </div>
                            <!-- /.col-lg-6 (nested) -->
                            <!-- /.col-lg-6 (nested) -->
                        </div>
                        <!-- /.row (nested) -->
                    </div>
                    <!-- /.panel-body -->
                </div>
                <!-- /.panel -->
            </div>
            <!-- /.col-lg-12 -->
        </div>
        <!-- /.row -->
    </div>
    <!-- /#page-wrapper -->
</div>
<script type="text/javascript">
    $(document).ready(function () {
        $.ajax({
            async: false,
            url: '/api/InventoryApi/',
            type: 'GET',
            contentType: "application/json;charset=utf-8",
            dataType: "json",
            success: function (data) {
                console.log(data);
                $.each(data, function (i) {
                    // console.log(data);
                    $('#ProductCatogeryDropdown').append($('<option></option>').val(data[i].id).html(data[i].name));
                });
            },
            error: function () { alert('Dropdown Not Load'); }
        });
    });

    function Add() {
        var radio = document.getElementById('radio').checked;
        var radio1 = document.getElementById('radio1').checked;
        var val = "";
        if (radio == true) {
            radioval = "0"
        }
        else {
            radioval = "1";
        }
        //var fd = new FormData();
        //var files = $("#filer").get(0).files;

        //if (files.lenght > 0) {
        //    fd.append("logo", files[0]);
        //    console.log("23232");
        //}
        //console.log(fd);
        var model = {
            name: document.getElementById('productname').value.trim(),
            type: radioval,
            catogrey: document.getElementById('ProductCatogeryDropdown').value.trim(),
            brand: document.getElementById('brand').value.trim(),
            model: document.getElementById('product_model').value.trim(),
            description: document.getElementById('Description').value.trim(),
            quantity: document.getElementById('quantity').value.trim(),
            barcode: document.getElementById('barcode').value.trim(),
            vendorName: document.getElementById('vendor').value.trim(),
            imagepath: document.getElementById('image').value.trim(),
            //imagepath : fd
        }
        $.ajax({
            async: false,
            url: '/api/InventoryApi/',
            type: 'POST',
            data: JSON.stringify(model),
            contentType: "application/json;charset=utf-8",
            dataType: "json",
            success: function (data) { alert(data); location.reload() },
            error: function () { alert(data); }
        });
    }
</script>
